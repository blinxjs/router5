!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.persistentParamsPlugin=e()}(this,function(){"use strict";var t=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n=function(n){return Object.keys(n).filter(function(t){return void 0!==n[t]}).reduce(function(r,i){return e({},r,t({},i,n[i]))},{})};return function(){function r(r){var o=Array.isArray(i)?i.reduce(function(n,r){return e({},n,t({},r,void 0))},{}):i,u=Object.keys(o),a=-1!==r.rootNode.path.indexOf("?"),c=u.join("&"),f=c?(a?"&":"?")+c:"",l=r.rootNode.path.split("?")[0]+f;r.setRootPath(l);var d=r.buildPath,s=r.buildState;return r.buildPath=function(t,i){var u=e({},n(o),i);return d.call(r,t,u)},r.buildState=function(t,i){var u=e({},n(o),i);return s.call(r,t,u)},{onTransitionSuccess:function(t){Object.keys(t.params).filter(function(t){return-1!==u.indexOf(t)}).forEach(function(e){return o[e]=t.params[e]})}}}var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.pluginName="PERSISTENT_PARAMS_PLUGIN",r}});
